<!-- Sidebar Navbar with AI Chat -->
<aside class="fixed w-64 h-full bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-white flex flex-col items-center py-8 px-4 shadow-lg">
  <!-- User Avatar -->
  <div class="w-24 h-24 bg-gray-300 dark:bg-gray-700 rounded-full mb-4 flex items-center justify-center text-4xl font-bold shadow-inner text-gray-900 dark:text-white">
    👤
  </div>

  <!-- User Info -->
  <h3 class="text-xl font-semibold mb-1 text-center">
    <%= typeof user !== 'undefined' && user ? user.name : "Guest" %>
  </h3>
  <p class="text-sm mb-4 text-center text-gray-600 dark:text-gray-400">
    <%= typeof user !== 'undefined' && user ? user.email : "" %>
  </p>

  <!-- Dark Mode Toggle -->
  <button onclick="toggleDarkMode()" class="w-full bg-gray-400 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 py-2 rounded mb-3 transition-all shadow text-gray-900 dark:text-white">
    🌙 / ☀️
  </button>

  <!-- Navigation Links -->
  <a href="/home" class="w-full text-center bg-blue-600 hover:bg-blue-500 dark:bg-blue-700 dark:hover:bg-blue-600 py-2 rounded mb-3 transition-all shadow text-white">
    Home
  </a>
  <a href="/counsellors" class="w-full text-center bg-green-600 hover:bg-green-500 dark:bg-green-700 dark:hover:bg-green-600 py-2 rounded transition-all shadow text-white">
    Find a Counsellor
  </a>

  <!-- Chatbot Toggle -->
  <button onclick="toggleChat()" class="mt-6 w-full bg-purple-600 hover:bg-purple-500 py-2 rounded transition-all shadow text-white">
    Chat with AI
  </button>
</aside>

<!-- Chatbot Panel -->
<div id="chatbox" class="fixed bottom-4 right-4 w-80 h-96 bg-white dark:bg-gray-800 shadow-xl rounded-xl flex flex-col hidden">
  <div class="bg-purple-600 dark:bg-purple-700 text-white px-4 py-2 rounded-t-xl font-bold">AI Counsellor</div>
  <div id="chat-content" class="flex-1 p-4 overflow-y-auto space-y-2"></div>
  <div class="p-3 border-t border-gray-300 dark:border-gray-700 flex">
    <input id="chat-input" type="text" placeholder="Type a message..." class="flex-1 px-3 py-2 rounded-l-xl border border-gray-300 dark:border-gray-600 focus:outline-none dark:bg-gray-700 dark:text-white">
    <button onclick="sendMessage()" class="bg-purple-600 dark:bg-purple-700 px-4 py-2 rounded-r-xl text-white hover:bg-purple-500 dark:hover:bg-purple-600">
      Send
    </button>
  </div>
</div>
